### تعریف طراحی گزارش: 


شما با کلیک کردن بر روی تب(1) Data می‌توانید منابع داده‌ای اضافه شده به این گزارش را مشاهده کنید.


![](./Images/report10.png)

محیطی که در اختیار دارید محیط طراحی گزارش می‌باشد و امکانات زیر را در اختیار خواهید داشت:

برای فعال‌سازی Header و Footer به گزارش، می‌توان از آیکون‌های زیر استفاده نمود:

![](./Images/report11.png)

![](./Images/report12.png)

  برای ایجاد یک نمونه گزارش لیستی از ToolBox   بخش  DataRegions می‌توان یک  table به صفحه اضافه کرد.
 
  ![](./Images/report13.jpg)
 
  برای پرکردن table که به صفحه افزوده‌اید، باید روی تب Properties(1)کلیک کرده سپس از منوی باز شده روی بخش Data(2)  کلیک کنید

![](./Images/report14.jpg)

در بخش Data، داده‌های مربوط به موجودیتی که روی آن اقدام به گزارش‌سازی کرده‌ایم، نمایش داده می‌شود و یا می‌توان از (1) منابع اضافه شده به گزارش را برای تهیه گزارش انتخاب نمود. برای برقراری ارتباط بین منبع‌های افزوده شده جلوتر توضیح داده خواهد شد.

![](./Images/report15.png)



**Name:**  نام پارامتر موردنظر خود را به انگلیسی وارد کنید.

**Prompt:**  نامی که برای دسترسی به این پارامتر می‌خواهید تعریف کنید را وارد کنید.

**Data type:**  نوع پارامتر موردنظر را انتخاب کنید. (لازم به ذکر است نوعی که برای پارامتر انتخاب می‌کنید با نوع فیلدی که می‌خواهید بر اساس آن فیلتر و یا مرتب‌سازی انجام دهید باید یکسان باشد) 

**Allow blank value:**  اگر می‌خواهید در صورت خالی بودن پارامتر، جستجو انجام شود می‌توانید این چک‌باکس را فعال کنید.

**Allow null value:**  اگر می‌خواهید در صورت null پارامتر جستجو انجام شود، می‌توانید این چک‌باکس را فعال کنید.

**Allow multiple values:** اگر می‌خواهید این پارامتر با چند مقدار جستجو انجام دهد می‌توانید این چک‌باکس را فعال کنید.

**Visibility:** تنظیمات نمایش این پارامتر را می‌توانید از این قسمت انجام دهید.

**Assign value:**  برای اینکه این پارامتر دارای مقادیر مشخص برای فیلتر یا مرتب‌سازی باشد می‌توان از این بخش استفاده کرد.

پس از انتخاب فیلد‌های موردنظر برای گزارش‌گیری از تب data، از بخش properties می‌توان فیلتر و یا نحوه مرتب‌سازی خود را تعریف کنید

![](./Images/report24.png)

**Set filters:** با کلیک بر روی دکمه add می‌توانید یک فیلتر جدید تعریف کنید. 

![](./Images/report25.png)

![](./Images/report26.png)

**choose field:** فیلدی که می‌خواهید بر اساس آن گزارش خود را فیلتر کنید از این بخش انتخاب کنید.

**2:** از این بخش نوع فیلتر را می‌توانید انتخاب کنید

**Value:** اگر بخواهید تنها فیلتر با مقدار مشخصی اعمال گردد آن مقدار را می‌توانید در این بخش وارد کنید.

**به‌عنوان‌مثال:** می‌خواهید گزارشی از آیتم‌هایی با تاریخ ایجاد قبل از تاریخ 30 آذر 98 داشته باشید، ابتدا فیلد   create date را از بخش choose field  انتخاب کنید، سپس علامت کمتر را انتخاب کنید و تاریخ موردنظرتان را در بخش value  وارد کنید.

**reset:**  با reset  می‌توان مقدار value  را تعریف شده را حذف کرد.

**Expression:**     از این بخش می‌توان پارامتری که در بخش   Parameters  تعریف شده را برای نمایش این فیلتر انتخاب کرد. در واقع تنظیمات نمایشی فیلتر در بخش Parameters   تعریف می‌شود و اینکه این فیلتر روی کدام فیلد اعمال شود از بخش choose field انتخاب می‌گردد.

**5**.با این کلید می‌توانید فیلتر موردنظر خود را حذف کنید.

**Set sorts:** با کلیک بر روی دکمه add می‌توانید یک نحوه مرتب‌سازی جدید تعریف کنید.
<br>
![](./Images/report27.png)

![](./Images/report28.png)

**choose field:** فیلدی که می‌خواهید بر اساس آن رکوردهای خود را مرتب کنید از این بخش انتخاب کنید.

**reset:**  با reset  می‌توان فیلد انتخاب شده را حذف کرد.

**Expression:**     از این بخش می‌توان پارامتری که در بخش   Parameters  تعریف شده است را برای نمایش این نحوه مرتب‌سازی انتخاب کرد. در واقع تنظیمات نمایشی این پارامتر در بخش Parameters   تعریف می‌شود و اینکه این مرتب‌سازی روی کدام فیلد اعمال شود از بخش choose field انتخاب می‌گردد.

**1**. نحوه مرتب‌سازی (صعودی / نزولی) مشخص کنید.

**2**. با این کلید می‌توانید مرتب‌سازی موردنظر خود را حذف کنید. 

### مشاهده خروجی گزارش

برای مشاهده خروجی گزارش طراحی شده از گزینه Preview  استفاده کنید. قابل‌ذکر است که در حالت طراحی زمانی که روی دکمه Preview کلیک می‌کنید فقط 10 رکورد از خروجی موردنظر را مشاهده خواهید کرد. ولی در زمان اجرای گزارش، خروجی‌های کامل را در اختیار خواهید داشت.


![](./Images/report29.jpg)

![](./Images/report30.jpg)

اعمال تغییرات روی ستون‌های گریدی که در طراحی به گزارش افزوده شده

بدیهی است که ممکن است قصد ویرایش گرید وارد شده به طراحی گزارش را داشته باشید.

برای اعمال تغییرات کافی است روی گرید کلیک کرده در تب Properties  روی گزینه Properties کلیک کنید. به‌این‌ترتیب کلیه خصوصیات گرید انتخاب شده را مشاهده خواهید کرد. 

به‌عنوان‌مثال برای تغییر عنوان ستون‌ها کافی است در بخش Column Setting، از گزینه (1) ChooseColumn برای انتخاب ستون موردنظر و در بخش پایین آن (2) نام موردنظر را وارد کنیم.

![](./Images/report31.jpg)


> نکته: در صورت ویرایش ستون‌های گزارش، ترتیب ستون‌ها در بخش تنظیمات مربوط به نام نمایش ستون‌ها (column setting) جابه‌جا شده و باید دوباره مرتب شود.


![](./Images/report32.jpg)


![](./Images/report33.png)

با کلیک بر روی دکمه ارسال کردن به گام بعدی منتقل می‌شوید.

![](./Images/report35.png)

### گام سوم: ذخیره گزارش

پس از انجام این مراحل و طراحی گزارش مربوطه نام موردنظر و یک دسته‌بندی برای ذخیره گزارش انتخاب کنید

![](./Images/report36.jpg)

> نکته: امکان افزودن دسته‌بندی جدید، تغییر نام و حذف یک دسته‌بندی از این بخش وجود دارد.

با کلیک بر روی دکمه نهایی گزارش ذخیره می‌گردد.

ساخت گزارش حساس به زبان سیستم
در نظر داشته باشید که یک گزارش باید به زبان سیستم حساس باشد. به این معنی که اگر گزارشی طراحی می‌کنید این گزارش در زبان فارسی نمایش متفاوتی از زبان انگلیسی دارد. برای طراحی گزارش به این صورت می‌توانید به شرح زیر عمل کنید:

شما می‌توانید در هر طراحی یک گزارش یکبار آن را در مود راست به چپ و یکبار آن را مود چپ به راست ذخیره کنید. به‌این‌ترتیب طراحی راست به چپ در زبان فارسی و طراحی چپ به راست در زبان انگلیسی در اختیار خواهند 

![](./Images/report39.jpg)

افزودن سورس داده‌ای به یک گزارش ازپیش‌ساخته شده
در صفحات لیست با کلیک روی دکمه مدیریت گزارش‌ها و بعد انتخاب یکی از گزارش‌های از قبل ساخته شده، این امکان وجود دارد که این لیست نیز به‌عنوان یک منبع داده‌ای به گزارش موردنظر افزوده شود.  این داده‌ها در بخش Expression طراحی گزارش و در بخش Date در اختیار قرار می‌گیرند.

![](./Images/report40.jpg)

 با استفاده از این قابلیت این امکان فراهم است که منبع‌های مختلفی در گزارش داشته باشیم و یا ارتباط بین دو منبع را از طریق نوشتن عبارات RDL  فراهم کنیم.

به‌عنوان نمونه، ما در سوابق فرم، قرارداد ایجاد کرده‌ایم، در گزارش از قراردادها می‌خواهیم ویژگی‌هایی از فرمی که به این قرارداد مرتبط است را نیز داشته باشیم. برای مثال نام فرم مرتبط با این قرارداد را در گزارش خود داشته باشیم.

برای این کار درصورتی‌که گزارشی از قرار داده ایجاد کرده باشیم می‌توانیم در لیست فرم‌ها در مدیریت گزارش، این گزارش را به گزارش تهیه شده از قرارداد بیفزاییم. حال در گزارش قرارداد، منبع گزارش فرم‌ها هم اضافه شده است که می‌توانیم با EXPRESSION  روی فیلد کلید که در این مثال موجودیت پدر (Parentcrmobjectid) می‌باشد این ارتباط را برقرار کنیم.

نمونه کد مربوط به این مثال

![](./Images/report41.png)
